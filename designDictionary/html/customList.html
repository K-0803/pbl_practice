<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>カスタマイズ一覧</title>
        <link href="../css/stylesheet.css" rel="stylesheet" type="text/css">
        <link href="../css/log.css" rel="stylesheet" type="text/css">
        <script>
            window.addEventListener('DOMContentLoaded', function(){
                var xhr = new XMLHttpRequest();
                xhr.open('GET', '/customList', true);
                xhr.onreadystatechange = function(){
                    if(xhr.readyState === 4 && xhr.status === 200){
                        console.log(xhr.responseText);
                    }
                };
                xhr.send();
            });
        </script>
    </head>

    <body>
        <!-- ハンバーガーメニュー -->
        <div class="openbtn"><span></span><span></span><span></span></div>
        <nav id="g-nav">
            <div id="g-nav-list">
                <ul>
                    <li><a href="mypage.html">マイページ</a></li> 
                    <li><a href="index.html">目次</a></li> 
                    <li><a href="#">ログアウト</a></li>
                </ul>
            </div>
        </nav>
        <!-- ハンバーガーメニュー押下後の背景 -->
        <div class="circle-bg"></div>

        <h1>カスタマイズ一覧</h1>

        
        <a href="postDetails.html"><img src="画像url" alt="WEBカスタム"></a>
        <button type="submit"><img src="画像url" alt="お気に入り" /></button>
        <form action="/customList" method="POST">
            <input type="submit" value="送信">
            <div id="viewArea" contenteditable="true">
                
            </div>
            {{customhtml}}
            {{customcss}}
        </form>

        <!-- ハンバーガーメニュー用JQuery,js -->
        <script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
        <script src="../js/main.js"></script>
        <script>
            window.addEventListener('DOMContentLoaded', function(){
                var htmlCode = document.getElementById("htmlCode").textContent;
                var cssCode = document.getElementById("cssCode").textContent;
                var viewArea = document.getElementById("viewArea");

                preview(htmlCode, cssCode, viewArea);
            });
       
            htmlCode.addEventListener("input",preview);
            cssCode.addEventListener("input",preview);

            function preview(htmlCode, cssCode, viewArea) {
                // HTMLコードとCSSコードを取得
                
                // <div id="view"></div> 内にHTMLコードを挿入
                viewArea.innerHTML = htmlCode;
                // CSSルールを定義
                var style = document.createElement("style");
                style.innerHTML = cssCode;
                // <div id="view"></div> 内にCSSルールを挿入
                viewArea.appendChild(style);
            }

            
        </script>
    </body>
</html>
