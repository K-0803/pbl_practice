<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>新規登録</title>
        <link href="../css/stylesheet.css" rel="stylesheet" type="text/css">
        <link href="../css/login.css" rel="stylesheet" type="text/css">
    </head>

    <body>
        <form method="POST" id="myForm" action="/register">
        <label>
            <span class="textbox-login-gmail">Gmail</span> <span id="gmiss"></span><br>
            <input name="email" type="text" class="textbox-gmail" placeholder="***@gmail.com"/>
        </label><br>
        <label>
            <span class="textbox-login-pw" id="pass">password </span><span id="pmiss"></span><br>
            <input id="textpass" name="pass" type="password" class="textbox-pw" placeholder="password"/>
        </label><br>
        <label>
            <span class="textbox-login-repw" id="repass">re:password </span><span id="repmiss"></span><br>
            <input id="textrepass" name="repass" type="password" class="textbox-re-pw" placeholder="password"/>
        </label><br>
        <label>
            <span class="textbox-login-name">UserName</span><br>
            <input name="name" type="text" class="textbox-name" placeholder="username"/>
        </label><br>
        <p id="text1"></p>
        <button type="submit">送信</button>
        </form>
        <button onclick="location.href='index.html'">戻る</button>
    </body>
    <script>

document.getElementById('myForm').addEventListener('submit', function(event) {
  event.preventDefault(); // フォームのデフォルトの送信をキャンセル

            var textpass = document.getElementById('textpass').value;
            var textrepass = document.getElementById('textrepass').value;
            var pmiss = document.getElementById('pmiss');
            var repmiss = document.getElementById('repmiss');

            // 入力値と比較
            if (textpass == "" || textrepass == ""){
                console.log("空白です");
                if(textpass == ""){
                    pmiss.innerHTML = "パスワードを入力してください";
                }else{
                    repmiss.innerHTML = "パスワードを入力してください";
                }
            } else if (textpass === textrepass) {
                this.submit();
                console.log("同じです");
            } else {
                console.log("同じじゃない");
                pmiss.innerHTML = "もう一度入力してください";
                repmiss.innerHTML = "もう一度入力してください";
            }   
        });
    </script>
</html>
